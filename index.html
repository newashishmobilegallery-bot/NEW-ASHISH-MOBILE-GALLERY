<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>New Ashish Mobile Gallery</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Font Awesome -->
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
  />

  <style>
    body { background: #f9fafb; }
  </style>
</head>

<body class="text-gray-800">

<!-- ================= NAVBAR ================= -->
<header class="bg-white shadow fixed top-0 left-0 right-0 z-50">
  <div class="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center">
    <h1 class="text-xl font-bold text-blue-700">
      New Ashish Mobile Gallery
    </h1>
    <a
      href="tel:+918839462102"
      class="bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-semibold"
    >
      Call Store
    </a>
  </div>
</header>

<!-- ================= HERO ================= -->
<section class="pt-28 pb-14 bg-white">
  <div class="max-w-7xl mx-auto px-4 text-center">
    <h2 class="text-3xl md:text-4xl font-bold mb-4">
      Trusted Android Mobile Store in Gwalior
    </h2>
    <p class="text-gray-600 max-w-2xl mx-auto">
      Live stock • Best market price • Repairs • 0% Finance Available
    </p>
  </div>
</section>

<!-- ================= PRODUCT SECTION ================= -->
<section class="py-14">
  <div class="max-w-7xl mx-auto px-4">

    <h3 class="text-2xl font-bold mb-6 text-center">
      Latest Android Arrivals
    </h3>

    <!-- PRODUCT GRID (DO NOT CHANGE ID) -->
    <div
      id="product-grid"
      class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6"
    >
      <!-- Products load here -->
    </div>

    <p
      id="loading-text"
      class="text-center text-gray-500 mt-6"
    >
      Loading products…
    </p>

  </div>
</section>

<!-- ================= LOCATION ================= -->
<section id="location" class="bg-blue-900 text-white py-14">
  <div class="max-w-7xl mx-auto px-4 grid md:grid-cols-2 gap-8">
    <div>
      <h3 class="text-2xl font-bold mb-4">Visit Our Store</h3>
      <p class="mb-4">
        Gol Pahariya, near Nehru Petrol Pump<br />
        Gwalior, Madhya Pradesh
      </p>
      <p>Open: 10:30 AM – 9:30 PM</p>
    </div>

    <iframe
      class="w-full h-64 rounded-lg"
      src="https://maps.google.com/maps?q=Gol%20Pahariya%20Gwalior&t=&z=15&ie=UTF8&iwloc=&output=embed"
      loading="lazy"
    ></iframe>
  </div>
</section>

<!-- ================= FOOTER ================= -->
<footer class="bg-gray-900 text-gray-400 text-center py-6">
  © 2024 New Ashish Mobile Gallery
</footer>

<!-- ================= SCRIPT ================= -->
<script>
document.addEventListener("DOMContentLoaded", () => {

  const API_URL =
    "https://script.google.com/macros/s/AKfycbw1HL3q0u-dFGrxF71ONDgUOpv4Xs2G5G53cEVmSHSDlOKNMjzSr8wISOeiquN_MFg0/exec";

  const grid = document.getElementById("product-grid");
  const loadingText = document.getElementById("loading-text");

  if (!grid) {
    console.error("❌ product-grid missing");
    return;
  }

  async function loadProducts() {
    try {
      const res = await fetch(API_URL);
      const data = await res.json();

      const products = data
        // ❌ REMOVE APPLE
        .filter(p => p.Brand?.toLowerCase() !== "apple")
        // ❌ REMOVE OUT OF STOCK
        .filter(p => p["Stock Status (In Stock / Out of Stock)"] === "In Stock");

      renderProducts(products);
      loadingText.style.display = "none";

    } catch (err) {
      console.error(err);
      loadingText.innerText = "Failed to load products.";
    }
  }

  function renderProducts(products) {
    grid.innerHTML = "";

    if (products.length === 0) {
      grid.innerHTML =
        "<p class='col-span-full text-center text-gray-500'>No products available</p>";
      return;
    }

    products.forEach(p => {
      const card = document.createElement("div");
      card.className =
        "bg-white border rounded-xl p-4 shadow hover:shadow-lg transition";

      card.innerHTML = `
        <div class="h-40 bg-gray-100 rounded-lg flex items-center justify-center mb-4">
          <i class="fa-solid fa-mobile-screen text-4xl text-gray-400"></i>
        </div>

        <h4 class="font-bold text-gray-900">
          ${p["Product Name"]}
        </h4>

        <p class="text-sm text-gray-500">${p.Brand}</p>

        <p class="mt-2 text-blue-600 font-semibold">
          Visit Store for Price
        </p>
      `;

      grid.appendChild(card);
    });
  }

  loadProducts();
});
</script>

</body>
</html>
